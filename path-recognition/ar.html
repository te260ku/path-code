<html>
    <head>
      <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AR</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin=""></script>
    <script src="../lib/leaflet.sprite.js"></script>
    <script src="https://code.jquery.com/jquery-latest.js"></script>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    
    </head>
  
    <body style="margin: 0; overflow: hidden;">
      <a-scene
        vr-mode-ui="enabled: false"
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false;"
      >

      <a-assets>
        <a-asset-item id="mail" src="./assets/models/scene.gltf"></a-asset-item>
      </a-assets>
      
      <a-entity 
      scale="2 2 2" 
      rotation="0 180 0" 
      gltf-model="./assets/models/scene.gltf" 
      gps-entity-place="latitude: 36.34933127648259; longitude: 138.99257243887092; ">
      </a-entity>
      

        <a-camera gps-camera rotation-reader> </a-camera>
      </a-scene>

      <script>
        var modelInfo = [
          {
            url: './assets/models/scene.gltf',
            scale: "2 2 2",
            rotation: '0 180 0'
          }
        ];

        // createModel(36.34901209450942, 138.99239407459294);
        
        function createModel(lat, lng) {
          var scene = $('a-scene');
          var model = $('<a-entity></a-entity');
          model.attr('scale', modelInfo.scale);
          model.attr('rotation', modelInfo.rotation);
          model.attr('gltf-model', modelInfo.url);
          model.attr('look-at', "[gps-camera]");
          model.attr('gps-entity-place', `latitude: ${lat}; longitude: ${lng}; `);
          scene.append(model);
      }
        
      </script>
    </body>
  </html>